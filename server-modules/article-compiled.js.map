{"version":3,"sources":["article.js"],"names":[],"mappings":";;;;;;;;;AASA,YAAY,CAAC;AACb,IAAM,EAAE,GAAG,OAAO,CAAC,YAAY,CAAC,CAAC;AACjC,IAAM,IAAI,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAE/B,IAAI,GAAG,GAAG,EAAE,CAAC;;AAEb,GAAG,CAAC,IAAI,GAAG,UAAC,GAAG,EAAE,GAAG,EAAK;;AAErB,QAAI,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;;;AAGlB,QAAI,IAAI,GAAG,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;AACvC,QAAI,KAAK,GAAG,IAAI,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwC/B,SAAK,CAAC,IAAI,CAAC;AACP,eAAO,EAAE,iBAAU,OAAO,EAAE;AACxB,gBAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;AAC/B,gBAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AACZ,eAAG,CAAC,IAAI,CAAC;AACL,qBAAK,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC;AAChC,mBAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC;AAC5B,mBAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC;AAC5B,oBAAI,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC;AAC9B,qBAAK,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC;aACnC,CAAC,CAAC;SACN;AACD,aAAK,EAAE,eAAU,MAAK,EAAE;AACpB,eAAG,CAAC,IAAI,CAAC;AACL,qBAAK,EAAE,sBAAsB;aAChC,CAAC,CAAC;SACN;KACJ,CAAC,CAAC;CACN,CAAC;;AAEF,MAAM,CAAC,OAAO,GAAG,GAAG,CAAC","file":"article-compiled.js","sourcesContent":["/**\n * Created by WebStorm.\n * User: aaron\n * Date: 15/11/30\n * Time: 20:37\n */\n\n// 一些工具方法\n\n'use strict';\nconst AV = require('leanengine');\nconst tool = require('./tool');\n\nlet pub = {};\n\npub.show = (req, res) => {\n    // 控制台输出\n    tool.l('article');\n\n    // 创建该类的一个实例\n    var Game = AV.Object.extend('article');\n    var query = new AV.Query(Game);\n\n    // 获取单个文章\n    //query.get('567ff3d200b042c0920f4d14', {\n    //  success: function(article) {\n    //    // 成功获得实例\n    //    var articleTitle = article.get('title');\n    //    var articleContent = article.get('content');\n    //    var articleImage = article.get('image');\n    //    res.send({\n    //      articleTitle: articleTitle,\n    //      articleContent: articleContent\n    //      articleImage: articleImage\n    //    });\n    //  },\n    //  error: function(error) {\n    //    res.send({\n    //      error:\"get articles failed\"\n    //    });\n    //  }\n    //});\n\n    // 获取整个文章集\n    //query.find({\n    //    success: function (results) {\n    //        tool.l('Successfully retrieved ' + results.length + ' posts.');\n    //        // 处理返回的结果数据\n    //        for (var i = 0; i < results.length; i++) {\n    //            var object = results[i];\n    //            tool.l(object.id + ' - ' + object.get('title') + ' - ' + object.get('content') + ' - ' + object.get('image'));\n    //        }\n    //    },\n    //    error: function (error) {\n    //        res.send({\n    //            error: \"find articles failed\"\n    //        });\n    //    }\n    //});\n\n    // 输出文章接口\n    query.find({\n        success: function (results) {\n            var num = tool.random(results);\n            tool.l(num);\n            res.send({\n                title: results[num].get('title'),\n                url: results[num].get('url'),\n                sub: results[num].get('sub'),\n                icon: results[num].get('icon'),\n                share: results[num].get('share')\n            });\n        },\n        error: function (error) {\n            res.send({\n                error: \"find articles failed\"\n            });\n        }\n    });\n};\n\nmodule.exports = pub;\n"]}