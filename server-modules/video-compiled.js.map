{"version":3,"sources":["video.js"],"names":[],"mappings":";;;;;;;;;AASA,YAAY,CAAC;AACb,IAAM,EAAE,GAAG,OAAO,CAAC,YAAY,CAAC,CAAC;AACjC,IAAM,IAAI,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAE/B,IAAI,GAAG,GAAG,EAAE,CAAC;;AAEb,GAAG,CAAC,IAAI,GAAG,UAAC,GAAG,EAAE,GAAG,EAAK;;AAErB,QAAI,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;;;AAGhB,QAAI,KAAK,GAAG,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;AACtC,QAAI,KAAK,GAAG,IAAI,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsChC,SAAK,CAAC,IAAI,CAAC;AACP,eAAO,EAAE,iBAAU,OAAO,EAAE;AACxB,gBAAI,GAAG,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;AACnD,gBAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AACZ,eAAG,CAAC,IAAI,CAAC;AACL,qBAAK,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC;AAChC,mBAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC;AAC5B,mBAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC;AAC5B,oBAAI,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC;AAC9B,qBAAK,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC;aACnC,CAAC,CAAC;SACN;AACD,aAAK,EAAE,eAAU,MAAK,EAAE;AACpB,eAAG,CAAC,IAAI,CAAC;AACL,qBAAK,EAAE,oBAAoB;aAC9B,CAAC,CAAC;SACN;KACJ,CAAC,CAAC;CACN,CAAC;;AAEF,MAAM,CAAC,OAAO,GAAG,GAAG,CAAC","file":"video-compiled.js","sourcesContent":["/**\n * Created by WebStorm.\n * User: aaron\n * Date: 15/11/30\n * Time: 20:37\n */\n\n// 一些工具方法\n\n'use strict';\nconst AV = require('leanengine');\nconst tool = require('./tool');\n\nlet pub = {};\n\npub.show = (req, res) => {\n    // 控制台输出\n    tool.l('video');\n\n    // 创建该类的一个实例\n    var Video = AV.Object.extend('video');\n    var query = new AV.Query(Video);\n\n    // 获取单个视频\n    //query.get('567ff3d200b042c0920f4d14', {\n    //  success: function(video) {\n    //    // 成功获得实例\n    //    var videoName = video.get('name');\n    //    var videoUrl = video.get('url');\n    //    res.send({\n    //      videoName: videoName,\n    //      videoUrl: videoUrl\n    //    });\n    //  },\n    //  error: function(error) {\n    //    res.send({\n    //      error:\"get videos failed\"\n    //    });\n    //  }\n    //});\n\n    // 获取整个视频集\n    //query.find({\n    //    success: function (results) {\n    //        tool.l('Successfully retrieved ' + results.length + ' posts.');\n    //        // 处理返回的结果数据\n    //        for (var i = 0; i < results.length; i++) {\n    //            var object = results[i];\n    //            tool.l(object.id + ' - ' + object.get('name') + ' - ' + object.get('url'));\n    //        }\n    //    },\n    //    error: function (error) {\n    //        res.send({\n    //            error: \"find videos failed\"\n    //        });\n    //    }\n    //});\n\n    // 输出视频接口\n    query.find({\n        success: function (results) {\n            var num = parseInt(Math.random() * results.length);\n            tool.l(num);\n            res.send({\n                title: results[num].get('title'),\n                url: results[num].get('url'),\n                sub: results[num].get('sub'),\n                icon: results[num].get('icon'),\n                share: results[num].get('share')\n            });\n        },\n        error: function (error) {\n            res.send({\n                error: \"find videos failed\"\n            });\n        }\n    });\n};\n\nmodule.exports = pub;\n"]}